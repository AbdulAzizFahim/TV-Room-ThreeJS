<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
		<script src="node_modules/three/build/three.js"></script>
		<script>
			const scene = new THREE.Scene();
			scene.background = new THREE.Color( 0xffffff );
			const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			camera.position.z = 5;

			const renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			const tv_body_geometry = new THREE.BoxGeometry( 7,4,0.3 );
			const tv_body_material = new THREE.MeshBasicMaterial( { color: 0x161616 } );
			const tv_body = new THREE.Mesh( tv_body_geometry, tv_body_material );
			scene.add( tv_body );

			const light = new THREE.AmbientLight( 0x404040 ); // soft white light
			scene.add( light );

			const tv_screen_geometry = new THREE.PlaneGeometry( 6.7, 3.7 );
			const tv_screen_texture = new THREE.TextureLoader().load('./images/wallpaper.png');
			const tv_screen_material = new THREE.MeshBasicMaterial({ map: tv_screen_texture });
			const tv_screen = new THREE.Mesh( tv_screen_geometry, tv_screen_material );
			// tv_screen.material.map.needsUpdate = true;
			scene.add( tv_screen );
			
			tv_body.position.z = -0.16


			renderer.render( scene, camera );
			
			document.onkeydown = (e) => {
				e = e || window.event
				if (e.keyCode == '38') {
					// up arrow
					camera.position.z -= 0.1 ;
				}
				else if (e.keyCode == '40') {
					// down arrow
					camera.position.z += 0.1 ;
				}
				else if (e.keyCode == '37') {
				// left arrow
					camera.rotation.y -= 0.1
				}
				else if (e.keyCode == '39') {
					// right arrow
					camera.rotation.y += 0.1
				}
				renderer.render( scene, camera );
			}

			// function animate() {
			// 	requestAnimationFrame( animate );

			// 	tv_body.rotation.x += 0.005;
			// 	tv_body.rotation.y += 0.005;
			// 	tv_screen.rotation.x += 0.005;
			// 	tv_screen.rotation.y += 0.005;

			// 	renderer.render( scene, camera );
			// };

			// animate();
		</script>
	</body>
</html>